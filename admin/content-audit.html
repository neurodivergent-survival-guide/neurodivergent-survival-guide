---
layout: default
title: Content Audit Dashboard
permalink: /content-audit/
---

<div style="max-width: 800px; margin: 0 auto; padding: 2rem;">
    <h1>Content Audit Dashboard</h1>
    
    <div style="margin: 2rem 0;">
        <input type="text" id="article-url" placeholder="Paste article URL here..." style="width: 100%; padding: 1rem; margin-bottom: 1rem;">
        <button onclick="analyzeURL()" style="padding: 1rem 2rem; background: #007acc; color: white; border: none; border-radius: 4px;">Analyze Article</button>
    </div>
    
    <div id="results" style="background: #f8f9fa; padding: 2rem; border-radius: 8px; margin-top: 2rem;">
        <p>Paste any struggle article URL above and click "Analyze Article" to get word counts.</p>
    </div>
</div>

<script>
async function analyzeURL() {
    const url = document.getElementById('article-url').value.trim();
    const results = document.getElementById('results');
    
    if (!url) {
        results.innerHTML = '<p>Please enter a URL</p>';
        return;
    }
    
    try {
        results.innerHTML = '<p>Analyzing...</p>';
        
        const response = await fetch(url);
        const html = await response.text();
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');
        
        const sections = {
            what: countWords(doc, '.what-section'),
            why: countWords(doc, '.why-section'),
            nextFive: countWords(doc, '.immediate-help'),
            longTerm: countWords(doc, '.long-term'),
            medical: countWords(doc, '.medical-section'),
            validation: countWords(doc, '.validation-section')
        };
        
        const total = Object.values(sections).reduce((a, b) => a + b, 0);
        const status = total >= 2150 && total <= 2550 ? 'ON TARGET' : total < 2150 ? 'UNDER TARGET' : 'OVER TARGET';
        
        let output = `WORD COUNT ANALYSIS\n\n`;
        output += `Total: ${total} words (${status})\n\n`;
        output += `What This Feels Like: ${sections.what} words\n`;
        output += `Why This Happens: ${sections.why} words\n`;
        output += `Next 5 Minutes: ${sections.nextFive} words\n`;
        output += `Long-term Solutions: ${sections.longTerm} words\n`;
        output += `Medical Intervention: ${sections.medical} words\n`;
        output += `Validation: ${sections.validation} words\n\n`;
        output += `TARGET RANGES:\n`;
        output += `What: 300-400 | Why: ~400 | Next 5: 300-500\n`;
        output += `Long-term: ~550 | Medical: 200-300 | Validation: ~400`;
        
        await navigator.clipboard.writeText(output);
        
        results.innerHTML = `<pre style="white-space: pre-wrap;">${output}</pre><p><strong>Results copied to clipboard!</strong></p>`;
        
    } catch (error) {
        results.innerHTML = `<p>Error: ${error.message}</p>`;
    }
}

function countWords(doc, selector) {
    const section = doc.querySelector(selector);
    if (!section) return 0;
    
    const clone = section.cloneNode(true);
    const tooltips = clone.querySelectorAll('.tooltip');
    tooltips.forEach(tooltip => tooltip.remove());
    
    const text = clone.textContent || '';
    return text.trim().split(/\s+/).filter(word => word.length > 0).length;
}
</script>
