---
layout: default
title: Editorial Tools
permalink: /editorial-tools/
---
<!-- File: _pages/editorial-tools.html -->

<style>
    .tool-section {
        margin-bottom: 40px;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 20px;
        background-color: #fafafa;
    }
    .tool-section h2 {
        color: #34495e;
        margin-top: 0;
        border-bottom: 2px solid #3498db;
        padding-bottom: 10px;
    }
    .page-card {
        border: 1px solid #ddd;
        border-radius: 8px;
        margin: 15px 0;
        padding: 15px;
        background-color: white;
    }
    .page-title {
        font-size: 18px;
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 5px;
    }
    .page-link {
        color: #3498db;
        text-decoration: none;
        font-size: 14px;
    }
    .page-link:hover {
        text-decoration: underline;
    }
    .search-term {
        background-color: #3498db;
        color: white;
        padding: 3px 8px;
        border-radius: 12px;
        font-size: 12px;
        margin: 2px;
        display: inline-block;
    }
    .jargon-term {
        background-color: #9b59b6;
        color: white;
        padding: 3px 8px;
        border-radius: 12px;
        font-size: 12px;
        margin: 2px;
        display: inline-block;
    }
    .count-good {
        color: #27ae60;
        font-weight: bold;
    }
    .count-warning {
        color: #f39c12;
        font-weight: bold;
    }
    .count-error {
        color: #e74c3c;
        font-weight: bold;
    }
    .strategy-section {
        margin: 5px 0;
        padding: 5px;
        background-color: #f8f9fa;
        border-radius: 3px;
    }
    .related-link {
        background-color: #95a5a6;
        color: white;
        padding: 2px 6px;
        border-radius: 10px;
        font-size: 11px;
        margin: 2px;
        display: inline-block;
    }
    .jargon-list {
        margin: 10px 0;
        padding: 10px;
        background-color: #f8f9fa;
        border-radius: 5px;
        border-left: 4px solid #9b59b6;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
    }
    th, td {
        padding: 10px;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }
    th {
        background-color: #f2f2f2;
        font-weight: bold;
    }
</style>

<h1>Editorial Tools</h1>

<!-- Search Terms Overview -->
<div class="tool-section">
    <h2>üîç Search Terms Overview</h2>
    <p>Review all search terms across struggle pages for clinical language or overly formal terms.</p>
    
    {% assign struggle_pages = site.pages | where: "layout", "struggle" %}
    {% for page in struggle_pages %}
        <div class="page-card">
            <div class="page-title">{{ page.title }}</div>
            <a href="{{ page.url | relative_url }}" class="page-link">View Page</a> | 
            <a href="https://github.com/your-repo/edit/main{{ page.path }}" class="page-link" target="_blank">Edit on GitHub</a>
            
            {% if page.search_terms %}
                <div style="margin: 10px 0;">
                    <strong>Search Terms:</strong><br>
                    {% for term in page.search_terms %}
                        <span class="search-term">{{ term }}</span>
                    {% endfor %}
                </div>
            {% else %}
                <div style="margin: 10px 0; color: #e74c3c;">
                    <strong>‚ö†Ô∏è No search terms found</strong>
                </div>
            {% endif %}
        </div>
    {% endfor %}
</div>

<!-- Coping Strategy Counter -->
<div class="tool-section">
    <h2>üìù Coping Strategy Counter</h2>
    <p>Count list items in coping sections to ensure 5-8 strategies (not always 8).</p>
    
    {% for page in struggle_pages %}
        {% assign content = page.content %}
        
        <!-- Count li elements in immediate-help section -->
        {% assign next_five_section = content | split: '<div class="immediate-help">' | last | split: '</div>' | first %}
        {% assign next_five_lis = next_five_section | split: '<li>' | size | minus: 1 %}
        
        <!-- Count li elements in long-term section -->
        {% assign long_term_section = content | split: '<div class="long-term">' | last | split: '</div>' | first %}
        {% assign long_term_lis = long_term_section | split: '<li>' | size | minus: 1 %}
        
        <div class="page-card">
            <div class="page-title">{{ page.title }}</div>
            <a href="{{ page.url | relative_url }}" class="page-link">View Page</a> | 
            <a href="https://github.com/your-repo/edit/main{{ page.path }}" class="page-link" target="_blank">Edit on GitHub</a>
            
            <div class="strategy-section">
                <strong>Next 5 Minutes:</strong> 
                {% if next_five_lis >= 5 and next_five_lis <= 8 %}
                    <span class="count-good">{{ next_five_lis }} strategies</span>
                {% else %}
                    <span class="count-warning">{{ next_five_lis }} strategies</span>
                {% endif %}
                (target: 5-8)
            </div>
            
            <div class="strategy-section">
                <strong>Long-term Solutions:</strong> 
                {% if long_term_lis >= 5 and long_term_lis <= 8 %}
                    <span class="count-good">{{ long_term_lis }} strategies</span>
                {% else %}
                    <span class="count-warning">{{ long_term_lis }} strategies</span>
                {% endif %}
                (target: 5-8)
            </div>
        </div>
    {% endfor %}
</div>

<!-- Unique Jargon Terms Analysis -->
<div class="tool-section">
    <h2>üí¨ Unique Jargon Terms Analysis</h2>
    <p>Count unique jargon terms per page (target range: 18-25) and display all terms used.</p>
    
    <script>
        function extractUniqueJargon(content) {
            // Create a temporary div to parse HTML
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            
            // Find all jargon elements
            const jargonElements = tempDiv.querySelectorAll('.jargon');
            const uniqueTerms = new Set();
            
            jargonElements.forEach(element => {
                // Get the text content of the jargon term (not the tooltip)
                const jargonText = element.childNodes[0]?.textContent?.trim();
                if (jargonText) {
                    // Normalize the text: lowercase and remove extra whitespace
                    const normalizedTerm = jargonText.toLowerCase().replace(/\s+/g, ' ');
                    uniqueTerms.add(normalizedTerm);
                }
            });
            
            return Array.from(uniqueTerms).sort();
        }
        
        function analyzeJargonForPage(pageContent, pageId) {
            const uniqueTerms = extractUniqueJargon(pageContent);
            const count = uniqueTerms.length;
            
            // Update the count display
            const countElement = document.getElementById('jargon-count-' + pageId);
            if (countElement) {
                let className = 'count-warning';
                let status = '';
                
                if (count >= 18 && count <= 25) {
                    className = 'count-good';
                } else if (count < 18) {
                    className = 'count-warning';
                    status = ' (low)';
                } else {
                    className = 'count-error';
                    status = ' (high)';
                }
                
                countElement.innerHTML = `<span class="${className}">${count}${status}</span>`;
            }
            
            // Update the terms list
            const termsElement = document.getElementById('jargon-terms-' + pageId);
            if (termsElement && uniqueTerms.length > 0) {
                termsElement.innerHTML = uniqueTerms.map(term => 
                    `<span class="jargon-term">${term}</span>`
                ).join('');
            }
        }
        
        // Run analysis when page loads
        document.addEventListener('DOMContentLoaded', function() {
            {% for page in struggle_pages %}
                {% assign page_id = forloop.index %}
                const pageContent{{ page_id }} = {{ page.content | jsonify }};
                analyzeJargonForPage(pageContent{{ page_id }}, {{ page_id }});
            {% endfor %}
        });
    </script>
    
    {% for page in struggle_pages %}
        {% assign page_id = forloop.index %}
        <div class="page-card">
            <div class="page-title">{{ page.title }}</div>
            <a href="{{ page.url | relative_url }}" class="page-link">View Page</a> | 
            <a href="https://github.com/your-repo/edit/main{{ page.path }}" class="page-link" target="_blank">Edit on GitHub</a>
            
            <div style="margin: 10px 0;">
                <strong>Unique Jargon Terms:</strong> 
                <span id="jargon-count-{{ page_id }}">Analyzing...</span>
                (target: 18-25)
            </div>
            
            <div class="jargon-list">
                <strong>Terms Used:</strong><br>
                <div id="jargon-terms-{{ page_id }}">Loading...</div>
            </div>
        </div>
    {% endfor %}
</div>

<!-- Summary Statistics -->
<div class="tool-section">
    <h2>üìä Summary Statistics</h2>
    
    {% assign total_pages = struggle_pages | size %}
    {% assign pages_with_search_terms = 0 %}
    {% assign optimal_strategy_pages = 0 %}
    
    {% for page in struggle_pages %}
        {% if page.search_terms %}
            {% assign pages_with_search_terms = pages_with_search_terms | plus: 1 %}
        {% endif %}
        
        {% assign next_five_section = page.content | split: '<div class="immediate-help">' | last | split: '</div>' | first %}
        {% assign next_five_lis = next_five_section | split: '<li>' | size | minus: 1 %}
        {% assign long_term_section = page.content | split: '<div class="long-term">' | last | split: '</div>' | first %}
        {% assign long_term_lis = long_term_section | split: '<li>' | size | minus: 1 %}
        
        {% if next_five_lis >= 5 and next_five_lis <= 8 and long_term_lis >= 5 and long_term_lis <= 8 %}
            {% assign optimal_strategy_pages = optimal_strategy_pages | plus: 1 %}
        {% endif %}
    {% endfor %}
    
    <table>
        <tr>
            <th>Metric</th>
            <th>Count</th>
            <th>Percentage</th>
        </tr>
        <tr>
            <td>Total Struggle Pages</td>
            <td>{{ total_pages }}</td>
            <td>100%</td>
        </tr>
        <tr>
            <td>Pages with Search Terms</td>
            <td>{{ pages_with_search_terms }}</td>
            <td>{{ pages_with_search_terms | times: 100 | divided_by: total_pages }}%</td>
        </tr>
        <tr>
            <td>Optimal Strategy Count (5-8 each)</td>
            <td>{{ optimal_strategy_pages }}</td>
            <td>{{ optimal_strategy_pages | times: 100 | divided_by: total_pages }}%</td>
        </tr>
        <tr>
            <td id="jargon-summary">Optimal Jargon Count (18-25)</td>
            <td id="jargon-summary-count">Calculating...</td>
            <td id="jargon-summary-percent">Calculating...</td>
        </tr>
    </table>
    
    <script>
        // Update jargon summary after analysis is complete
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                let optimalJargonPages = 0;
                const totalPages = {{ total_pages }};
                
                {% for page in struggle_pages %}
                    {% assign page_id = forloop.index %}
                    const countElement{{ page_id }} = document.getElementById('jargon-count-{{ page_id }}');
                    if (countElement{{ page_id }} && countElement{{ page_id }}.innerHTML.includes('count-good')) {
                        optimalJargonPages++;
                    }
                {% endfor %}
                
                document.getElementById('jargon-summary-count').textContent = optimalJargonPages;
                document.getElementById('jargon-summary-percent').textContent = Math.round((optimalJargonPages * 100) / totalPages) + '%';
            }, 500);
        });
    </script>
</div>
