<!-- _layouts/default.html -->
<!DOCTYPE html>
<html lang="{{ site.lang | default: 'en-US' }}">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    {% if site.title and site.title != page.title %}
    <title>{{ page.title }} | {{ site.title }}</title>
    {% else %}
    <title>{{ page.title }}</title>
    {% endif %}

    <style>
        /* Global mobile optimization */
        * {
            box-sizing: border-box;
        }

        html {
            overflow-x: hidden;
            width: 100%;
        }

        body {
            overflow-x: hidden;
            width: 100%;
            max-width: 100vw;
            margin: 0;
            padding: 0;
        }

        /* Mobile-safe tooltip positioning */
        @media (max-width: 768px) {
            .tooltip {
                position: absolute !important;
                bottom: 125% !important;
                left: 50% !important;
                transform: translateX(-50%) !important;
                max-width: calc(100vw - 40px) !important;
                width: max-content !important;
                min-width: 150px !important;
                z-index: 9999 !important;
            }

            /* Handle tooltip overflow on edges */
            .jargon {
                position: relative;
            }

            .jargon:hover .tooltip {
                /* Dynamic positioning to stay in viewport */
                left: clamp(20px, 50%, calc(100vw - 20px - var(--tooltip-width, 200px)));
            }

            /* Ensure all containers stay within viewport */
            .container,
            .content-card,
            .header,
            .breadcrumb {
                max-width: 100vw !important;
                overflow-x: hidden;
            }

            /* Force text wrapping */
            p, h1, h2, h3, h4, h5, h6, li {
                word-wrap: break-word;
                overflow-wrap: break-word;
                hyphens: auto;
            }

            /* Prevent fixed-width elements from causing overflow */
            img, video, iframe, table {
                max-width: 100% !important;
                height: auto !important;
            }

            /* Mobile-safe grid adjustments */
            .characteristics-grid,
            .struggles-grid {
                grid-template-columns: 1fr !important;
                gap: 1rem !important;
            }

            /* Responsive padding */
            .header,
            .breadcrumb,
            .container {
                padding-left: 1rem !important;
                padding-right: 1rem !important;
            }

            .content-card,
            .condition-intro,
            .reframe-box,
            .struggles-section,
            .cross-cutting-section,
            .co-occurring {
                padding-left: 1rem !important;
                padding-right: 1rem !important;
                margin-left: 0 !important;
                margin-right: 0 !important;
            }
        }

        @media (max-width: 480px) {
            .tooltip {
                max-width: calc(100vw - 20px) !important;
                left: 10px !important;
                right: 10px !important;
                transform: none !important;
            }
        }
    </style>
</head>
<body>
    {{ content }}
</body>
</html>
