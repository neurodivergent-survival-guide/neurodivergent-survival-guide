---
layout: default
---
<!-- /_layouts/condition.html -->

<div class="condition-container">
    <div class="condition-header">
        <nav class="breadcrumbs">
            <a href="{{ '/' | relative_url }}">Home</a> → 
            <a href="{{ '/conditions/' | relative_url }}">Conditions</a> → 
            <span>{{ page.title }}</span>
        </nav>
        
        <div class="condition-title">
            <h1>{{ page.title }}</h1>
            <p class="condition-subtitle">{{ page.subtitle }}</p>
        </div>
    </div>

    <div class="condition-overview">
        {{ content }}
    </div>

    <div class="struggles-section">
        <h2>Common Struggles</h2>
        <div class="struggles-grid">
            {% assign condition_struggles = site.data.struggle_order[page.condition_key] %}
            {% for struggle in condition_struggles %}
                {% assign struggle_path = '/struggles/' | append: struggle.slug | append: '.html' %}
                {% assign struggle_page = site.pages | where: "url", struggle_path | first %}
                
                <div class="struggle-card {{ page.condition_key }} {% unless struggle_page %}coming-soon{% endunless %}">
                    {% if struggle_page %}
                        <a href="{{ struggle_path | relative_url }}" class="struggle-link">
                            <h3>{{ struggle.title }}</h3>
                            <p>{{ struggle.description }}</p>
                            <span class="struggle-arrow">→</span>
                        </a>
                    {% else %}
                        <div class="struggle-link coming-soon-content">
                            <h3>{{ struggle.title }}</h3>
                            <p>{{ struggle.description }}</p>
                            <span class="coming-soon-badge">Coming Soon</span>
                        </div>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
        
        {% assign total_struggles = condition_struggles | size %}
        {% assign available_struggles = 0 %}
        {% for struggle in condition_struggles %}
            {% assign struggle_path = '/struggles/' | append: struggle.slug | append: '.html' %}
            {% assign struggle_page = site.pages | where: "url", struggle_path | first %}
            {% if struggle_page %}
                {% assign available_struggles = available_struggles | plus: 1 %}
            {% endif %}
        {% endfor %}
        
        {% if total_struggles > 0 %}
        <div class="progress-indicator">
            <p>{{ available_struggles }} of {{ total_struggles }} struggle guides available</p>
            <div class="progress-bar">
                <div class="progress-fill" style="width: {{ available_struggles | times: 100 | divided_by: total_struggles }}%"></div>
            </div>
        </div>
        {% endif %}
    </div>

    <div class="cross-cutting-section">
        <h2>Cross-Cutting Concerns</h2>
        <p>These struggles span multiple neurodivergent conditions and often interact with each other:</p>
        
        <div class="cross-cutting-grid">
            {% assign cross_cutting_links = "perfectionism-paralysis,emotional-dysregulation,social-masking-exhaustion,rejection-sensitivity" | split: "," %}
            {% assign cross_cutting_titles = "Perfectionism Paralysis,Emotional Dysregulation,Social Masking Exhaustion,Rejection Sensitivity" | split: "," %}
            {% assign cross_cutting_descriptions = "When impossibly high standards prevent starting or completing tasks,Intense emotions that feel overwhelming or disproportionate,Fatigue from hiding neurodivergent traits in social situations,Intense emotional pain from perceived criticism or rejection" | split: "," %}
            
            {% for i in (0..3) %}
                {% assign link_slug = cross_cutting_links[i] %}
                {% assign link_path = '/struggles/' | append: link_slug | append: '.html' %}
                {% assign link_page = site.pages | where: "url", link_path | first %}
                
                {% if link_page %}
                    <a href="{{ link_path | relative_url }}" class="cross-cutting-link">
                        <h3>{{ cross_cutting_titles[i] }}</h3>
                        <p>{{ cross_cutting_descriptions[i] }}</p>
                    </a>
                {% else %}
                    <div class="cross-cutting-link cross-cutting-coming-soon">
                        <h3>{{ cross_cutting_titles[i] }}</h3>
                        <p>{{ cross_cutting_descriptions[i] }}</p>
                        <span class="coming-soon-badge">Coming Soon</span>
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>

    <div class="support-resources">
        <h2>Professional Support</h2>
        <p>{{ page.condition_key | capitalize }} often benefits from specialized professional support. Consider connecting with:</p>
        
        <div class="support-grid">
            <div class="support-card">
                <h3>Therapy Options</h3>
                <ul>
                    {% for therapy in page.therapy_types %}
                    <li>{{ therapy }}</li>
                    {% endfor %}
                </ul>
            </div>
            
            <div class="support-card">
                <h3>Medical Support</h3>
                <ul>
                    {% for medical in page.medical_support %}
                    <li>{{ medical }}</li>
                    {% endfor %}
                </ul>
            </div>
            
            <div class="support-card">
                <h3>Community Resources</h3>
                <ul>
                    {% for resource in page.community_resources %}
                    <li>{{ resource }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>

{% if page.condition %}
  {% assign colors = site.data.condition_colors[page.condition] %}
{% else %}
  {% assign colors = site.data.condition_colors['adhd'] %}
{% endif %}

{% assign conditions = site.data.conditions | sort: 'name' %}
{% assign current_index = -1 %}
{% for condition in conditions %}
  {% if condition.slug == page.slug %}
    {% assign current_index = forloop.index0 %}
    {% break %}
  {% endif %}
{% endfor %}

<div class="condition-navigation">
  <div class="nav-container">
    {% if current_index > 0 %}
      {% assign prev_index = current_index | minus: 1 %}
      {% assign prev_condition = conditions[prev_index] %}
      <a href="{{ '/conditions/' | append: prev_condition.slug | append: '.html' | relative_url }}" class="nav-link">← Previous: {{ prev_condition.name }}</a>
    {% else %}
      <span class="nav-link disabled">← Previous Condition</span>
    {% endif %}
    
    {% assign next_index = current_index | plus: 1 %}
    {% if next_index < conditions.size %}
      {% assign next_condition = conditions[next_index] %}
      <a href="{{ '/conditions/' | append: next_condition.slug | append: '.html' | relative_url }}" class="nav-link">Next: {{ next_condition.name }} →</a>
    {% else %}
      <span class="nav-link disabled">Next Condition →</span>
    {% endif %}
  </div>
</div>

<style>
.condition-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
}

.condition-header {
    margin-bottom: 2rem;
}

.breadcrumbs {
    margin-bottom: 1rem;
    color: #666;
    font-size: 0.9rem;
}

.breadcrumbs a {
    color: #007bff;
    text-decoration: none;
}

.breadcrumbs a:hover {
    text-decoration: underline;
}

.condition-title h1 {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
    color: #2c3e50;
}

.condition-subtitle {
    font-size: 1.2rem;
    color: #7f8c8d;
    margin-bottom: 2rem;
}

.condition-overview {
    background: #f8f9fa;
    padding: 2rem;
    border-radius: 10px;
    margin-bottom: 3rem;
    font-size: 1.1rem;
    line-height: 1.6;
}

.struggles-section {
    margin-bottom: 3rem;
}

.struggles-section h2 {
    font-size: 2rem;
    margin-bottom: 1.5rem;
    color: #2c3e50;
}

.struggles-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.struggle-card {
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    overflow: hidden;
    position: relative;
}

.struggle-card:not(.coming-soon):hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
}

.struggle-card.coming-soon {
    opacity: 0.7;
    background: #f8f9fa;
}

.struggle-link {
    display: block;
    padding: 1.5rem;
    text-decoration: none;
    color: inherit;
    min-height: 120px;
    position: relative;
}

.coming-soon-content {
    padding: 1.5rem;
    min-height: 120px;
    position: relative;
    cursor: default;
}

.struggle-link h3, .coming-soon-content h3 {
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
    color: #2c3e50;
}

.struggle-link p, .coming-soon-content p {
    color: #7f8c8d;
    line-height: 1.5;
    margin-bottom: 0;
}

.struggle-arrow {
    position: absolute;
    bottom: 1rem;
    right: 1rem;
    font-size: 1.5rem;
    opacity: 0.5;
    transition: opacity 0.2s ease, transform 0.2s ease;
}

.struggle-card:not(.coming-soon):hover .struggle-arrow {
    opacity: 1;
    transform: translateX(5px);
}

.coming-soon-badge {
    position: absolute;
    bottom: 1rem;
    right: 1rem;
    background: #95a5a6;
    color: white;
    font-size: 0.75rem;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.progress-indicator {
    margin-top: 2rem;
    padding: 1rem;
    background: #e8f5e8;
    border-radius: 8px;
    border-left: 4px solid #27ae60;
}

.progress-indicator p {
    margin-bottom: 0.5rem;
    color: #2c3e50;
    font-weight: 600;
}

.progress-bar {
    background: #d4edda;
    height: 8px;
    border-radius: 4px;
    overflow: hidden;
}

.progress-fill {
    background: #27ae60;
    height: 100%;
    transition: width 0.3s ease;
    border-radius: 4px;
}

/* Condition-specific colors */
.struggle-card.adhd:not(.coming-soon) {
    border-left: 4px solid #d63031;
}

.struggle-card.autism:not(.coming-soon) {
    border-left: 4px solid #27ae60;
}

.struggle-card.bipolar:not(.coming-soon) {
    border-left: 4px solid #74b9ff;
}

.struggle-card.borderline:not(.coming-soon) {
    border-left: 4px solid #f39c12;
}

.struggle-card.coming-soon {
    border-left: 4px solid #95a5a6;
}

.cross-cutting-section {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 2rem;
    border-radius: 15px;
    margin-bottom: 3rem;
}

.cross-cutting-section h2 {
    color: white;
    margin-bottom: 1rem;
}

.cross-cutting-section p {
    margin-bottom: 2rem;
    font-size: 1.1rem;
    opacity: 0.9;
}

.cross-cutting-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
}

.cross-cutting-link {
    background: rgba(255, 255, 255, 0.1);
    padding: 1.5rem;
    border-radius: 10px;
    text-decoration: none;
    color: white;
    transition: background 0.2s ease, transform 0.2s ease;
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-height: 44px;
    position: relative;
}

.cross-cutting-link:not(.cross-cutting-coming-soon):hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
    color: white;
}

.cross-cutting-coming-soon {
    opacity: 0.6;
    cursor: default;
}

.cross-cutting-link h3 {
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
}

.cross-cutting-link p {
    margin-bottom: 0;
    font-size: 0.9rem;
    opacity: 0.9;
}

.cross-cutting-coming-soon .coming-soon-badge {
    background: rgba(255, 255, 255, 0.3);
    color: white;
}

.support-resources {
    background: #f8f9fa;
    padding: 2rem;
    border-radius: 15px;
}

.support-resources h2 {
    margin-bottom: 1rem;
    color: #2c3e50;
}

.support-resources > p {
    margin-bottom: 2rem;
    font-size: 1.1rem;
    color: #555;
}

.support-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
}

.support-card {
    background: white;
    padding: 1.5rem;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.support-card h3 {
    margin-bottom: 1rem;
    color: #2c3e50;
}

.support-card ul {
    list-style: none;
    padding: 0;
}

.support-card li {
    padding: 0.5rem 0;
    border-bottom: 1px solid #eee;
    color: #555;
}

.support-card li:last-child {
    border-bottom: none;
}

.condition-navigation {
    background: linear-gradient(135deg, {{ colors.gradient_start }}, {{ colors.gradient_end }});
    color: white;
    padding: 1rem 0;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    margin-top: 2rem;
}

.condition-navigation .nav-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
}

.condition-navigation .nav-link {
    background: white;
    color: {{ colors.primary }};
    padding: 0.8rem 1.5rem;
    border-radius: 25px;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.condition-navigation .nav-link:hover {
    background: rgba(255, 255, 255, 0.95);
    color: {{ colors.secondary }};
    transform: translateY(-1px);
    text-decoration: none;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.condition-navigation .nav-link.disabled {
    background: rgba(255, 255, 255, 0.3);
    color: rgba(255, 255, 255, 0.7);
    box-shadow: none;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
    .condition-container {
        padding: 1rem;
    }
    
    .condition-title h1 {
        font-size: 2rem;
    }
    
    .struggles-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .cross-cutting-grid {
        grid-template-columns: 1fr;
    }
    
    .cross-cutting-link {
        text-align: center;
    }
    
    .support-grid {
        grid-template-columns: 1fr;
    }
    
    .condition-navigation .nav-container {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
        padding: 0 1rem;
    }
}

@media (max-width: 480px) {
    .condition-overview {
        padding: 1rem;
    }
    
    .cross-cutting-section {
        padding: 1rem;
    }
    
    .support-resources {
        padding: 1rem;
    }
}
</style>
